<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FinAnalytica ‚Äî AI –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body class="antialiased">
<div class="min-h-screen flex flex-col">
  <!-- HEADER -->
  <header class="py-6 px-6 lg:px-12 flex items-center justify-between max-w-7xl w-full mx-auto">
    <div class="flex items-center gap-3">
      <div class="w-12 h-12 rounded-lg flex items-center justify-center bg-panel border border-custom">
        <div class="text-lg font-semibold text-accent">FA</div>
      </div>
      <div>
        <div class="text-lg font-semibold">FinAnalytica</div>
        <div class="text-xs text-muted">AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π ‚Äî —Å—Ç—Ä–æ–≥–∏–π –≥—Ä–∞—Ñ–∏—Ç–æ–≤—ã–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º</div>
      </div>
    </div>
    <nav class="flex items-center gap-3">
      <button class="px-4 py-2 rounded-lg border border-custom text-sm">–í–æ–π—Ç–∏</button>
      <button class="px-4 py-2 rounded-lg bg-accent text-bg text-sm font-medium">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
    </nav>
  </header>

  <!-- MAIN -->
  <main class="flex-1 w-full max-w-7xl mx-auto px-6 lg:px-12 pb-12">
    <!-- Home View -->
    <section id="homeView" class="space-y-6">
      <div class="text-center mt-4">
        <h1 class="text-3xl lg:text-4xl font-semibold">FinAnalytica ‚Äî –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –≤ —Å–µ—Ä–¥—Ü–µ –¥–∞–Ω–Ω—ã—Ö</h1>
        <p class="mt-2 text-sm text-muted">–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–ø–∞–Ω–∏–π, AI-–∞–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã.</p>
      </div>

      <!-- Search -->
      <div class="mt-6 flex justify-center">
        <div class="w-full max-w-3xl">
          <div class="flex gap-3 items-center">
            <input id="searchInput" type="search" placeholder="–ù–∞–π—Ç–∏ –∫–æ–º–ø–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ì–∞–∑–ø—Ä–æ–º, –°–±–µ—Ä–±–∞–Ω–∫, –Ø–Ω–¥–µ–∫—Å)"
                   class="w-full px-4 py-4 rounded-xl bg-panel border border-custom focus:outline-none focus:ring-2 focus:ring-accent text-base" />
            <button id="searchBtn" class="px-5 py-3 rounded-xl bg-accent text-bg font-semibold">–ü–æ–∏—Å–∫</button>
          </div>
          <p class="mt-2 text-xs text-muted">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –∫–æ–º–ø–∞–Ω–∏–∏, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –≥—Ä–∞—Ñ–∏–∫–æ–º –∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏.</p>
        </div>
      </div>

      <!-- –í —Ä–∞–∑–¥–µ–ª–µ Home View, –ø–æ—Å–ª–µ –∫–Ω–æ–ø–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è: -->
      <div class="mt-4 flex justify-center">
        <div class="flex gap-2">
          <button id="btnPublic" class="toggle-btn px-4 py-2 rounded-xl border text-sm bg-accent text-bg font-medium">
            –ü—É–±–ª–∏—á–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
          </button>
          <button id="btnPrivate" class="toggle-btn px-4 py-2 rounded-xl border text-sm bg-panel border-custom">
            –ù–µ–ø—É–±–ª–∏—á–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
          </button>
        </div>
      </div>

      <!-- –ø—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π cardsGrid) -->
      <div id="cardsGrid" class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Cards will be injected by JS -->

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ú–∏—Ä–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ -->
        <div class="card rounded-2xl p-5 bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/30 cursor-pointer smooth hover:card-focus" onclick="showWorldNews()">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-lg font-semibold">üåç –ú–∏—Ä–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏</div>
              <div class="text-xs mt-1 text-muted">–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</div>
            </div>
            <div class="text-right">
              <div class="text-sm text-muted">–û–±–Ω–æ–≤–ª–µ–Ω–æ</div>
              <div class="text-xl font-bold text-purple-400">‚àû</div>
            </div>
          </div>
          <div class="mt-4 flex items-center gap-3 text-sm">
            <div class="py-1 px-2 rounded bg-[rgba(168,85,247,0.15)] text-purple-400">AI –∞–Ω–∞–ª–∏–∑</div>
            <div class="py-1 px-2 rounded bg-[rgba(34,197,94,0.15)] text-green-400">–í—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏</div>
          </div>
        </div>
      </div>

      <!-- –ø—É—Å—Ç–æ–π –±–ª–æ–∫ –¥–ª—è –Ω–µ–ø—É–±–ª–∏—á–Ω—ã—Ö -->
      <div id="privateContainer"
           class="hidden-section mt-4 rounded-2xl p-6 bg-[var(--panel)] border border-[var(--border)]">
        <div class="text-sm" style="color:var(--muted)">
          –ó–¥–µ—Å—å –±—É–¥—É—Ç –Ω–µ–ø—É–±–ª–∏—á–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏.
        </div>
      </div>
    </section>

    <!-- Company View -->
    <section id="companyView" class="hidden-section mt-8 space-y-6">
      <div class="flex items-center justify-between">
        <button id="backBtn" class="px-3 py-2 rounded-lg border border-custom text-sm">‚Üê –ù–∞–∑–∞–¥</button>
        <div class="text-sm text-muted">–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–º–ø–∞–Ω–∏–∏ ‚Äî –¥–∞–Ω–Ω—ã–µ, –≥—Ä–∞—Ñ–∏–∫, –Ω–æ–≤–æ—Å—Ç–∏ –∏ AI-–∞–Ω–∞–ª–∏–∑</div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Left meta -->
        <div class="col-span-1 rounded-2xl p-6 bg-panel border border-custom">
          <h2 id="cName" class="text-2xl font-semibold">–ö–æ–º–ø–∞–Ω–∏—è</h2>
          <p id="cSector" class="mt-1 text-sm text-muted">–°–µ–∫—Ç–æ—Ä: ‚Äî</p>

          <div class="mt-6 space-y-3 text-sm">
            <div>
              <div class="text-xs text-muted">–í—ã—Ä—É—á–∫–∞</div>
              <div id="cRevenue" class="font-medium">‚Äî</div>
            </div>
            <div>
              <div class="text-xs text-muted">–ì–æ–¥–æ–≤–æ–π –æ–±–æ—Ä–æ—Ç</div>
              <div id="cTurnover" class="font-medium">‚Äî</div>
            </div>
            <div>
              <div class="text-xs text-muted">–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å</div>
              <div id="cOwner" class="font-medium">‚Äî</div>
            </div>
          </div>

          <div class="mt-6">
            <div class="text-xs text-muted">–ò–Ω–¥–µ–∫—Å —Ä–µ–ø—É—Ç–∞—Ü–∏–∏</div>
            <div id="cIndex" class="text-3xl font-bold text-accent">‚Äî</div>
          </div>
        </div>

        <!-- Right: chart + quick data -->
        <div class="col-span-2 rounded-2xl p-6 bg-panel border border-custom">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-sm text-muted">–ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ü–∏–π</div>
              <div id="cTicker" class="text-lg font-semibold">‚Äî</div>
            </div>
            <div class="text-right">
              <div class="text-xs text-muted">–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞</div>
              <div id="cPrice" class="text-xl font-bold">‚Äî</div>
            </div>
          </div>

          <div class="mt-6">
            <svg id="priceChart" viewBox="0 0 800 200" class="w-full h-48 rounded-md bg-[rgba(255,255,255,0.01)] border border-custom chart-grid">
              <g class="chart-grid">
                <line x1="0" y1="20" x2="800" y2="20"></line>
                <line x1="0" y1="60" x2="800" y2="60"></line>
                <line x1="0" y1="100" x2="800" y2="100"></line>
                <line x1="0" y1="140" x2="800" y2="140"></line>
                <line x1="0" y1="180" x2="800" y2="180"></line>
              </g>
              <path id="chartPath" d="" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/>
              <g id="chartDots"></g>
            </svg>
          </div>
        </div>
      </div>

      <!-- News block -->
      <div class="rounded-2xl p-6 bg-panel border border-custom">
        <div class="flex items-center justify-between">
          <h3 class="text-lg font-semibold">–ù–æ–≤–æ—Å—Ç–∏ –∏ AI-–∞–Ω–∞–ª–∏–∑</h3>
          <div class="flex gap-2">
            <button class="periodBtn px-3 py-1 border border-custom rounded text-sm bg-accent text-bg font-medium" data-range="365">1d</button>
            <button class="periodBtn px-3 py-1 border border-custom rounded text-sm" data-range="90">3d</button>
            <button class="periodBtn px-3 py-1 border border-custom rounded text-sm" data-range="30">1w</button>
            <button class="periodBtn px-3 py-1 border border-custom rounded text-sm" data-range="7">1m</button>
            <button class="periodBtn px-3 py-1 border border-custom rounded text-sm" data-range="3">3m</button>
            <button class="periodBtn px-3 py-1 border border-custom rounded text-sm" data-range="1">1y</button>
          </div>
        </div>

        <div id="newsList"
             class="mt-6 space-y-4 text-sm custom-scroll"
             style="max-height: 400px; overflow-y: auto; padding-right: 6px;">
        </div>
      </div>
    </section>

    <!-- World News View -->
    <section id="worldNewsView" class="hidden-section mt-8 space-y-6">
      <div class="flex items-center justify-between">
        <button onclick="showHomeView()" class="px-3 py-2 rounded-lg border border-custom text-sm">‚Üê –ù–∞–∑–∞–¥</button>
        <div class="text-sm text-muted">–ú–∏—Ä–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ ‚Äî AI-–∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π</div>
      </div>

      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div class="rounded-2xl p-4 bg-panel border border-custom text-center">
          <div class="text-2xl font-bold text-accent" id="totalNewsCount">0</div>
          <div class="text-xs text-muted mt-1">–í—Å–µ–≥–æ –Ω–æ–≤–æ—Å—Ç–µ–π</div>
        </div>
        <div class="rounded-2xl p-4 bg-panel border border-custom text-center">
          <div class="text-2xl font-bold text-success" id="positiveNewsCount">0</div>
          <div class="text-xs text-muted mt-1">–ü–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö</div>
        </div>
        <div class="rounded-2xl p-4 bg-panel border border-custom text-center">
          <div class="text-2xl font-bold text-danger" id="negativeNewsCount">0</div>
          <div class="text-xs text-muted mt-1">–ù–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö</div>
        </div>
        <div class="rounded-2xl p-4 bg-panel border border-custom text-center">
          <div class="text-2xl font-bold text-muted" id="neutralNewsCount">0</div>
          <div class="text-xs text-muted mt-1">–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã—Ö</div>
        </div>
      </div>

      <!-- –§–∏–ª—å—Ç—Ä—ã -->
      <div class="rounded-2xl p-6 bg-panel border border-custom">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-semibold">–§–∏–ª—å—Ç—Ä—ã –Ω–æ–≤–æ—Å—Ç–µ–π</h3>
          <div class="flex gap-2">
            <button class="worldPeriodBtn px-3 py-1 border border-custom rounded text-sm bg-accent text-bg font-medium" data-range="365">–í—Å–µ</button>
            <button class="worldPeriodBtn px-3 py-1 border border-custom rounded text-sm" data-range="7">–ù–µ–¥–µ–ª—è</button>
            <button class="worldPeriodBtn px-3 py-1 border border-custom rounded text-sm" data-range="1">–°–µ–≥–æ–¥–Ω—è</button>
          </div>
        </div>

        <div class="flex flex-wrap gap-2">
          <button class="toneFilterBtn px-3 py-1 border border-custom rounded text-sm bg-accent text-bg font-medium" data-tone="all">–í—Å–µ</button>
          <button class="toneFilterBtn px-3 py-1 border border-success rounded text-sm" data-tone="positive">‚úÖ –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ</button>
          <button class="toneFilterBtn px-3 py-1 border border-danger rounded text-sm" data-tone="negative">‚ùå –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ</button>
          <button class="toneFilterBtn px-3 py-1 border border-muted rounded text-sm" data-tone="neutral">‚ö™ –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ</button>
        </div>

        <div class="flex flex-wrap gap-2 mt-3">
          <button class="companyFilterBtn px-3 py-1 border border-custom rounded text-sm bg-accent text-bg font-medium" data-company="all">–í—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏</button>
          <button class="companyFilterBtn px-3 py-1 border border-custom rounded text-sm" data-company="SBER">–°–±–µ—Ä–±–∞–Ω–∫</button>
          <button class="companyFilterBtn px-3 py-1 border border-custom rounded text-sm" data-company="GAZP">–ì–∞–∑–ø—Ä–æ–º</button>
          <button class="companyFilterBtn px-3 py-1 border border-custom rounded text-sm" data-company="YNDX">–Ø–Ω–¥–µ–∫—Å</button>
          <button class="companyFilterBtn px-3 py-1 border border-custom rounded text-sm" data-company="LKOH">–õ—É–∫–æ–π–ª</button>
        </div>
      </div>

      <!-- News block -->
      <div class="rounded-2xl p-6 bg-panel border border-custom">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-semibold">–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</h3>
          <div class="text-sm text-muted" id="worldNewsStats">–ó–∞–≥—Ä—É–∂–∞–µ–º...</div>
        </div>

        <div id="worldNewsList"
             class="space-y-4 text-sm custom-scroll"
             style="max-height: 600px; overflow-y: auto; padding-right: 6px;">
          <div class="text-center py-8 text-muted">
            <div class="loading-spinner mx-auto mb-2"></div>
            <div>–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π...</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="mt-12 mb-8 text-center text-xs text-muted">¬© FinAnalytica ‚Äî Demo</footer>
</div>

<!-- Auth Modal -->
<div id="authModal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
  <div class="bg-panel border border-custom rounded-2xl p-8 w-full max-w-sm text-sm relative shadow-2xl transition-all duration-300 scale-95 opacity-0" id="modalBox">
    <button id="closeModal" class="absolute top-3 right-3 text-muted hover:text-accent text-lg">‚úï</button>
    <h2 id="modalTitle" class="text-xl font-semibold mb-5 text-center">–í—Ö–æ–¥</h2>

    <form id="authForm" class="space-y-3">
      <input type="email" id="email" placeholder="E-mail" required
             class="w-full px-3 py-2 rounded-lg bg-bg border border-custom focus:ring-2 focus:ring-accent outline-none">
      <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" required
             class="w-full px-3 py-2 rounded-lg bg-bg border border-custom focus:ring-2 focus:ring-accent outline-none">
      <button type="submit"
              class="w-full py-2 rounded-lg bg-accent text-bg font-medium hover:opacity-90 smooth">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
    </form>

    <p id="switchMode" class="text-center text-muted text-sm mt-4 cursor-pointer hover:text-accent">
      –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <span class="underline">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</span>
    </p>
  </div>
</div>

<script type="module" src="js/app.js"></script>
</body>
</html>